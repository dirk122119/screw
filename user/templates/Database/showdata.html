{% extends "UserData/base.html" %}
{% import "bootstrap/wtf.html" as wtf %}

{% block page_content %}
<div class="row">
    <span></span>
</div>

<div class="row">
   <div class="container">
       <div class="">
           <h2 class="text-center">螺絲資料庫</h2>
       </div>
   </div>
</div>
<a href="{{ url_for('Database.Create_new')}}" class="btn btn-primary btn-lg" role="button" aria-pressed="true">新增螺絲</a>

<div class="row">
            <table id="example" class="display" cellspacing="0" width="100%">
               <thead>
                  <tr>
                     <th scope="col">#</th>
                     <th scope="col">螺絲編號</th>
                     <th scope="col">頭長</th>
                     <th scope="col">頭寬</th>
                     <th scope="col">身長</th>
                     <th scope="col">身直徑</th>
                     <th scope="col">身直徑(#)</th>
                     <th scope="col">頭部鑿洞數</th>
                     <th scope="col">頭部形狀</th>
                     <th scope="col">頭部標籤</th>
                     <th scope="col">鍍膜種類</th>
                     <th scope="col">價錢</th>
                     <th scope="col">修改</th>
                     <th scope="col">刪除</th>
                  </tr>
               </thead>
               <tbody>
                  {% for item in table_list %}
                  <tr>
                     <td id="index_{{ loop.index|string}}">{{ loop.index }}</td>
                     <td id="name_{{ loop.index|string}}">{{ item.number }}</td>
                     <td id="Head_length_{{ loop.index|string}}">{{ item.Screw_Head_length }} mm</td>
                     <td id="Head_Width_{{ loop.index|string}}">{{ item.Screw_Head_Width }} mm</td>
                     <td id="Body_Length_{{ loop.index|string}}">{{ item.Screw_Body_Length }} mm</td>
                     <td id="Body_Width_{{ loop.index|string}}">{{ item.Screw_Body_Width }} mm</td>
                     <td id="Body_Width_us_{{ loop.index|string}}">{{ item.Screw_Body_Width_us }}</td>
                     <td id="Head_wholenum_{{ loop.index|string}}">{{ item.Screw_Head_wholenum }}</td>
                     <td id="Screw_Head_Type_{{ loop.index|string}}">{{ item.Screw_Head_Type }}</td>
                     <td id="Screw_Head_Type_{{ loop.index|string}}">{{ item.Screw_label }}</td>
                     <td id="Screw_coat_{{ loop.index|string}}">{{ item.Screw_coat }}</td>
                     <td id="price_{{ loop.index|string}}">{{ item.ScrewPrice }} NTD</td>
                     <td><a href="{{ url_for('Database.Update_datable',number=item.number)}}" class="btn btn-primary btn-lg" role="button" aria-pressed="true">修改</a></td>
                     <td><button type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#flipFlop{{ loop.index }}">刪除</button></td>
                     <!--Modal-->
              
                
                <!-- The modal -->
                <div class="modal fade" id="flipFlop{{ loop.index }}" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
                  <div class="modal-dialog" role="document">
                  <div class="modal-content">
                  <div class="modal-header">
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                  </button>
                  <h4 class="modal-title" id="modalLabel">確定要刪除{{ item.number }}？</h4>
                  </div>
                  <div class="modal-footer">
                  <a href="{{ url_for('Database.Remove_datable',number=item.number)}}" role="button" class="btn btn-danger" aria-pressed="true">確定刪除</a>
                  <button type="button" class="btn btn-secondary" data-dismiss="modal">取消</button>
                  </div>
                  </div>
                  </div>
                  </div>
              </tr>
                 
                  {% endfor %}
               </tbody>
               <tfoot>
                    <th scope="col">#</th>
                    <th scope="col">螺絲編號</th>
                    <th scope="col">頭長</th>
                    <th scope="col">頭寬</th>
                    <th scope="col">身長</th>
                    <th scope="col">身直徑</th>
                    <th scope="col">身直徑(#)</th>
                    <th scope="col">頭部鑿洞數</th>
                    <th scope="col">頭部形狀</th>
                    <th scope="col">頭部標籤</th>
                    <th scope="col">鍍膜種類</th>
                    <th scope="col">價錢</th>
                    <th scope="col">修改</th>
                    <th scope="col">刪除</th>
               </tfoot>
            </table>


</div>

<script>
    $(document).ready(function() {
    $('#example').DataTable({
        "lengthMenu": [[-1,10, 25, 50,], ["ALL",10, 25, 50]]
    });
} );
</script>
{% endblock page_content %}